# SVG text element

> 原文：<https://jenkov.com/tutorials/svg/text-element.html>

SVG `<text>`元素用于在 SVG 图像中绘制文本。

## SVG text Video

以下是本教程的视频版本:

<iframe width="560" height="315" src="https://www.youtube.com/embed/2l3Nm3PtKsk" frameborder="0" allowfullscreen=""><h2>文本示例</h2> <p>这里有一个简单的例子:</p> <pre class="codeBox"> &lt;svg xmlns:xlink="http://www.w3.org/1999/xlink"&gt; <b>&lt;text x="20" y="40"&gt;Example SVG text 1&lt;/text&gt;</b> &lt;/svg&gt; </pre> <p>本示例定义了一个位于 x = 10，y = 40 的文本。要显示的文本是“示例 SVG 文本 1”。</p> <p>以下是生成的图像:</p> <svg width="320" height="70"> <text x="20" y="40">Example SVG text 1</text> </svg> <h2>文本定义</h2> <p>在深入研究 SVG 文本之前，这里有三个值得了解的定义:</p> <ul> <li><b>字形</b> <br/>字形是字母或符号的视觉表现。因此，字母“a”可以使用许多不同的字形来绘制，因为字母“a”有许多不同的视觉表示。<br/> <br/></li> <li><b>字体</b> <br/>字体是能够可视化一组字母和符号的字形集合。<br/> <br/></li> <li><b>字符</b> <br/>字符是一个字母或符号的数字(二进制)表示。一个字符可以用一个或多个字节来表示。当计算机渲染字符时，它会将这些字符映射到字体中的字形。</li> </ul> <h2>定位文本</h2> <p>文本的<b>位置</b>由<code>&lt;text&gt;</code>元素的<code>x</code>和<code>y</code>属性决定。x 属性决定了文本左边缘的位置(文本的开始)。y 属性决定了文本底部<b>的位置(不是顶部)。因此，文本的 y 位置与线条、矩形或其他形状的 y 位置是不同的。此示例显示了一个文本和一行，它们都具有 y 位置 40:</b></p> <pre class="codeBox"> &lt;svg xmlns:xlink="http://www.w3.org/1999/xlink"&gt; &lt;text x="20" y="40"&gt;Example SVG text 1&lt;/text&gt; &lt;line x1="10" y1="40" x2="150" y2="40" style="stroke: #000000"/&gt; &lt;/svg&gt; </pre> <svg width="320" height="70"> <text x="20" y="40">Example SVG text 1</text> <line x1="10" y1="40" x2="150" y2="40" style="stroke: #000000"/> </svg> <p>注意文本的 y 位置是如何指向文本的底部而不是顶部的。</p> <h2>文本锚</h2> <p>文本的锚点决定了文本的哪一部分位于在<code>text</code>元素的<code>x</code>属性中指定的 x 位置。默认情况下，文本的锚点是文本的左边缘。正文的开头。但是你也可以用文本的中间作为锚点，或者右边——文本的结尾。</p> <p>可以设置<code>text-anchor</code> CSS 属性来设置文本的锚点。可以取三个值:<code>start</code>、<code>middle</code>和<code>end</code>。下面是一个 SVG <code>text-anchor</code>示例，展示了三种不同的文本锚选项:</p> <svg width="500" height="100"> <line x1="50" y1="0" x2="50" y2="100" style="stroke: #000000;"/> <text x="50" y="20" style="text-anchor: start"> Start </text> <text x="50" y="40" style="text-anchor: middle"> Middle </text> <text x="50" y="60" style="text-anchor: end"> End </text> </svg> <p>垂直线显示所有三个文本的 X 位置。三篇课文都有<code>x="50"</code>。你可以看到这三个文本是如何被不同地锚定的。</p> <p>下面是用于上面三个文本的 SVG 代码:</p> <pre class="codeBox"> &lt;text x="50" y="20" style="<b>text-anchor: start</b>"&gt; Start &lt;/text&gt; &lt;text x="50" y="40" style="<b>text-anchor: middle</b>"&gt; Middle &lt;/text&gt; &lt;text x="50" y="60" style="<b>text-anchor: end</b>"&gt; End &lt;/text&gt; </pre> <h2>文本描边和填充</h2> <p>像其他 SVG 形状一样，文本上可以设置描边和填充。如果只指定一个笔画，文本将显示为文本的轮廓。如果仅指定填充，文本将看起来像正常呈现的文本。下面是三个显示<code>stroke</code>和<code>fill</code>组合的例子:</p> <svg width="500" height="200"> <text x="20" y="40" style="fill: #000000; stroke: none; font-size: 48px;"> Fill only </text> <text x="20" y="100" style="fill: none; stroke: #000000; font-size: 48px;"> Stroke only </text> <text x="20" y="150" style="fill: #999999; stroke: #000000; font-size: 48px;"> Fill and stroke </text> </svg> <p>第一行文本仅设置了填充。第二行只设置了笔画。请注意，只画出了文本的轮廓。第三行同时设置了描边和填充。请注意填充颜色是灰色的。</p> <p>下面是用于生成该图像的 SVG 代码:</p> <pre class="codeBox"> &lt;text x="20" y="40" style="fill: #000000; stroke: none; font-size: 48px;"&gt; Fill only &lt;/text&gt; &lt;text x="20" y="100" style="fill: none; stroke: #000000; font-size: 48px;"&gt; Stroke only &lt;/text&gt; &lt;text x="20" y="150" style="fill: #999999; stroke: #000000; font-size: 48px;"&gt; Fill and stroke &lt;/text&gt; </pre> <p>请注意，我已经将<code>font-size</code>设置为<code>48px</code>以更好地说明描边和填充的效果。</p> <p>当然，如果您希望轮廓更大，也可以设置<code>stroke-width</code>属性。下面是一个将<code>stroke-width</code>设置为 2 的示例:</p> <svg width="500" height="80"> <text x="20" y="40" style="fill: #999999;&#10; stroke: #000000;&#10; stroke-width: 2px;&#10; font-size: 48px;&#10;&#10; "> Stroke-width 2 </text> </svg> <p>你可以在<a href="stroke.html"> SVG stroke </a>的文本中阅读更多关于如何设计文本(和任何其他 SVG 形状)的样式的信息。</p> <p>你也可以在<a href="fill.html"> SVG 填充</a>的文本中，以及<a href="svg-gradients.html"> SVG 渐变</a>、<a href="fill-patterns.html"> SVG 填充图案</a>和<a href="mask.html"> SVG 蒙版</a>的文本中了解如何填充文本。</p> <h2>字母间距和字距</h2> <p>可以使用样式属性<code>letter-spacing</code>和<code>kerning</code>来控制字母间距和字距(字形之间的距离)。我不知道哪一个最好用。这里有两个简单的例子:</p> <pre class="codeBox"> &lt;svg xmlns:xlink="http://www.w3.org/1999/xlink"&gt; &lt;text x="20" y="20" &gt;Example SVG text&lt;/text&gt; &lt;text x="20" y="40" style="kerning:2;"&gt;Example SVG text&lt;/text&gt; &lt;text x="20" y="60" style="letter-spacing:2;"&gt;Example SVG text&lt;/text&gt; &lt;/svg&gt; </pre> <p>以下是生成的图像:</p> <svg width="320" height="70"> <text x="20" y="20">Example SVG text</text> <text x="20" y="40" style="kerning:2;">Example SVG text</text> <text x="20" y="60" style="letter-spacing:2;">Example SVG text</text> </svg> <p>在<code>letter-spacing</code>或<code>kerning</code>中使用的数值被添加到正常的字母间距或字距中。如果使用负数，间距会减小。</p> <h2>单词间距</h2> <p>您可以使用<code>word-spacing</code> CSS 属性设置文本的单词间距。单词间距是文本中单词之间的空白量。这里有一个例子:</p> <pre class="codeBox"> &lt;text x="20" y="20"&gt; Word spacing is normal &lt;/text&gt; &lt;text x="20" y="40" style="word-spacing: 4;"&gt; Word spacing is 4 &lt;/text&gt; &lt;text x="20" y="60" style="word-spacing: 8;"&gt; Word spacing is 8 &lt;/text&gt; </pre> <p>这是生成的图像。注意:在撰写本文时，Firefox 还不支持<code>word-spacing</code> CSS 属性。</p> <svg width="500" height="100"> <text x="20" y="20"> Word spacing is normal </text> <text x="20" y="40" style="word-spacing: 4;"> Word spacing is 4 </text> <text x="20" y="60" style="word-spacing: 8"> Word spacing is 8 </text> </svg> <p>在<code>word-spacing</code>属性中指定的数值被添加到正常字间距中。如果您使用值<code>normal</code>或完全省略<code>word-spacing</code>属性，则不会添加任何内容。如果指定负数，单词之间的间距将会减小。</p> <h2>文本布局-无自动换行</h2> <p>SVG 中没有自动换行。您必须自己定位文本，并将其分成多行。您可以从<code>&lt;tspan&gt;</code>元素的相对定位中获得一些帮助。</p> <p>也可以沿路径布局文本，例如沿圆或样条线。您可以使用<code>&lt;textpath&gt;</code>元素来做到这一点。</p> <h2>旋转文本</h2> <p>可以像旋转任何其他 SVG 形状一样旋转 SVG 文本。你使用<a href="svg-transformation.html"> SVG 变换</a>旋转文本和形状。这里有一个例子:</p> <pre class="codeBox"> &lt;svg xmlns:xlink="http://www.w3.org/1999/xlink"&gt; &lt;text x="20" y="40" transform="rotate(30 20,40)" style="stroke:none; fill:#000000;" &gt;Rotated SVG text&lt;/text&gt; &lt;/svg&gt; </pre> <p>这是生成的图像:</p> <svg width="320" height="170"> <text x="20" y="40" transform="rotate(30 20,40)" style="stroke:none; fill:#000000;">Rotated SVG text</text> </svg> <p>旋转是由<code>transform</code>属性引起的，这在<a href="svg-transformation.html"> SVG 转换</a>中有解释。</p> <h2>文字垂直排列</h2> <p>可以通过旋转文本来显示竖排文本，但还有另一种方法来显示竖排文本。您可以通过将<code>writing-mode</code> CSS 属性设置为<code>tb</code>(从上到下)来实现。在写这篇文章的时候，Firefox (22)还不支持这个特性。</p> <p>下面是一个 SVG <code>writing-mode</code>示例:</p> <pre class="codeBox"> &lt;text x="10" y="20" style="writing-mode: tb;"&gt; Vertical &lt;/text&gt; </pre> <p>以下是生成的图像:</p> <svg width="500" height="100"> <text x="10" y="20" style="writing-mode: tb;"> Vertical </text> </svg> <p>如果您希望字母显示时不旋转，但仍然彼此垂直重叠，您可以通过将<code>glyph-orientation-vertical</code> CSS 属性设置为 0 来实现。此属性设置标志符号的旋转。默认值为 90。</p> <p>以下是一些例子:</p> <pre class="codeBox"> &lt;text x="10" y="10" style="writing-mode: tb; glyph-orientation-vertical: 0;"&gt; Vertical &lt;/text&gt; &lt;text x="110" y="10" style="writing-mode: tb; glyph-orientation-vertical: 90;"&gt; Vertical &lt;/text&gt; </pre> <p>以下是生成的图像:</p> <svg width="500" height="160"> <text x="10" y="10" style="writing-mode: tb; glyph-orientation-vertical: 0;"> Vertical </text> <text x="110" y="10" style="writing-mode: tb; glyph-orientation-vertical: 90;"> Vertical </text> </svg> <p>您也可以使用<code>letter-spacing</code> CSS 属性调整字母间距。这里有两个<code>letter-spacing</code>不同的例子:</p> <pre class="codeBox"> &lt;text x="10" y="10" style="writing-mode: tb; glyph-orientation-vertical: 0;"&gt; Vertical &lt;/text&gt; &lt;text x="50" y="10" style="writing-mode: tb; glyph-orientation-vertical: 0; <b>letter-spacing: -3;</b>"&gt; Vertical &lt;/text&gt; </pre> <p>这是生成的图像。请注意，带有负数<code>letter-spacing</code>的文本在字形之间的垂直间距变小了。</p> <svg width="500" height="160"> <text x="10" y="10" style="writing-mode: tb; glyph-orientation-vertical: 0;"> Vertical </text> <text x="50" y="10" style="writing-mode: tb; glyph-orientation-vertical: 0; letter-spacing: -3;"> Vertical </text> </svg> <h2>文本方向</h2> <p>您可以使用<code>direction</code> CSS 属性设置文本呈现的方向。属性可以有两个值:<code>ltr</code>和<code>rtl</code>。这些值表示“从左到右”和“从右到左”。您还必须将<code>unicode-bidi</code> CSS 属性设置为<code>bidi-override</code>。</p> <p>下面是一个 SVG 文本<code>direction</code>的例子:</p> <pre class="codeBox"> &lt;text x="100" y="40" style="direction: rtl; unicode-bidi: bidi-override;"&gt; Left to right &lt;/text&gt; </pre> <p>本示例将<code>direction</code> CSS 属性设置为<code>rtl</code>(从右向左)。以下是生成的图像:</p> <svg width="500" height="70"> <text x="100" y="40" style="direction: rtl; unicode-bidi: bidi-override;"> Left to right </text> </svg> <h2>样式文本</h2> <p>下面是可以用来设置文本样式的特定于文本的 CSS 属性列表。记住，你也可以设计文本的<a href="stroke.html">笔画</a>和<a href="fill.html">填充</a>，并使用<a href="svg-gradients">渐变</a>、<a href="fill-patterns.html">填充图案</a>和<a href="mask.html">蒙版</a>来设计文本。</p> <p>您必须像表中一样用小写字母书写属性名，否则 SVG 查看器会忽略它们！</p> <table cellspacing="0" cellpadding="5" style="border: 1px: solid #cccccc"> <tr><td style="border-bottom: 1px solid #cccccc;"><b>属性</b></td><td style="border-bottom: 1px solid #cccccc;"><b>描述</b></td></tr> <tr><td valign="top">字体系列</td> <td valign="top">要使用的字体，例如“Arial”或“Verdana”。</td> </tr> <tr><td valign="top">字体大小</td> <td valign="top">字体的大小，例如“12px”或“24px”。</td> </tr> <tr><td valign="top">字距调整</td> <td valign="top">字母之间的间距，例如“2”或“3”(默认值=1)。</td> </tr> <tr><td valign="top"><nobr>字母间距</nobr></td> <td valign="top">字母之间的间距，例如“2”或“3”。类似于字距调整。</td> </tr> <tr><td valign="top"><nobr>字间距</nobr></td> <td valign="top">单词之间的间距，例如“2”或“3”。</td> </tr> <tr><td valign="top"><nobr>文字装饰</nobr></td> <td valign="top">可以是<code>none</code>、<code>underline</code>、<code>overline</code>、<code>line-through</code>中的任意一种。</td> </tr> <tr><td valign="top">中风</td> <td valign="top">字体的轮廓颜色。默认情况下，文本只有填充颜色，没有描边。添加笔画会使字体显得加粗。</td> </tr> <tr><td valign="top"><nobr>笔画宽度</nobr></td> <td valign="top">字体轮廓颜色的宽度。</td> </tr> <tr><td valign="top">充满</td> <td valign="top">字体的填充颜色。</td> </tr> </table> <br/> <p>下面是一个使用这些属性的示例:</p> <pre class="codeBox"> &lt;svg xmlns:xlink="http://www.w3.org/1999/xlink"&gt; &lt;text x="20" y="40" style="font-family: Arial; font-size : 34; stroke : #000000; fill : #00ff00; " &gt;Styled SVG text&lt;/text&gt; &lt;/svg&gt; </pre> <svg width="320" height="70"> <text x="20" y="40" style="font-family: Arial;&#10; font-size : 34;&#10; stroke : #000000;&#10; fill : #00ff00;&#10; ">Styled SVG text</text> </svg> <h2>文本长度</h2> <p>您可以使用<code>&lt;text&gt;</code>元素的<code>textLength</code>属性来设置文本的长度。然后，通过调整字符之间的间距和字形的大小，使文本的长度适合指定的长度。使用<code>lengthAdjust</code>属性你可以指定字母间距和字形大小是否需要调整。</p> <p>下面是三个 SVG <code>textLength</code>和<code>lengthAdjust</code>的例子:</p> <pre class="codeBox"> &lt;text x="5" y="20" textLength="140" lengthAdjust="spacing"&gt; A long, long, long text. &lt;/text&gt; &lt;text x="5" y="40" textLength="200" lengthAdjust="spacing"&gt; A long, long, long text. &lt;/text&gt; &lt;text x="5" y="60" textLength="200" lengthAdjust="spacingAndGlyphs"&gt; A long, long, long text. &lt;/text&gt; </pre> <p>这是生成的图像。请注意最后两个文本中不同类型的间距。</p> <svg width="500" height="100"> <text x="5" y="20" textlength="140" lengthadjust="spacing"> A long, long, long text. </text> <text x="5" y="40" textlength="200" lengthadjust="spacing"> A long, long, long text. </text> <text x="5" y="60" textlength="200" lengthadjust="spacingAndGlyphs"> A long, long, long text. </text> </svg> <p>在撰写本文时，Firefox 还不支持这些属性。</p> <h2>相关 SVG 元素</h2> <p>以下 SVG 元素与<code>&lt;text&gt;</code>元素相关，这意味着它们也处理文本(单击元素名称阅读更多内容):</p> <ul> <li><a href="tspan-element.html">T2<code>&lt;tspan&gt;</code></a></li> <li><a href="tref-element.html">T2<code>&lt;tref&gt;</code></a></li> <li><a href="textpath-element.html">T2<code>&lt;textpath&gt;</code></a></li> </ul> </body> </html></iframe>
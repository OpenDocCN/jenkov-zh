# jQuery 选择器

> 原文：<https://jenkov.com/tutorials/jquery/selectors.html>

jQuery 选择器用于选择 HTML 页面中的 DOM 元素。大多数 jQuery 代码都以 jQuery 选择器开始。代码选择一个或多个 HTML 元素，然后使用 [jQuery 遍历特性](traversal.html)遍历 DOM 元素，通过 [jQuery DOM 操纵特性](dom.html)操纵 DOM 元素，通过 [jQuery 事件特性](events.html)向它们添加事件监听器，或者通过 [jQuery 效果特性](effects.html)向它们添加效果。

jQuery 包含大量选择器，可以根据元素名称、id、属性值、可见性、元素顺序和许多其他标准来选择 HTML 元素。本 jQuery 选择器教程将涵盖最常用的选择器。有关所有 jQuery 选择器的完整列表，请参见 jQuery 官方文档中的以下页面:

[http://api.jquery.com/category/selectors/](http://api.jquery.com/category/selectors/)

## jQuery 选择器概述

一个 *jQuery 选择器*是一个指定选择哪些 HTML 元素的字符串。选择器字符串被传递给`$()`或`jQuery()`选择函数，后者返回所选元素的集合。

jQuery 选择器语法与 [CSS 选择器](/css/selectors.html)相同，所以如果你熟悉 CSS 选择器，你会很快学会 jQuery 选择器。

jQuery 允许您基于以下标准选择元素:

*   元素名称(如“p”、“a”、“div”等)。)
*   元素 id
*   元素 CSS 类
*   元素属性
*   元素可见性
*   元素顺序
*   表单字段
*   元素父或子
*   以上各项的组合

我将在下面的小节中介绍这些选项。

## jQuery 选择器示例

首先，让我向您展示一个简单的 jQuery 选择器示例:

```
var theDiv = $("#theDiv");

```

本例选择 id 为`theDiv`的`div`元素，这意味着`div`元素的`id`属性的值为`theDiv`。

## ＄()和 jQuery 函数

`$()`返回一组 jQuery 增强的元素。这个 jQuery 增强的元素集包含许多实用函数，可以应用于集合中的所有元素。例如，下面是如何在集合中的所有选定元素上设置 CSS 类:

```
var theDiv = $("#theDiv");

theDiv.addClass("newCssClass");

```

此示例在集合中的所有元素上设置 CSS 类`newCssClass`。由于该示例只选择了一个元素，因此只有一个元素将获得新的 CSS 类。

编写上述代码的一种更简短的方式是:

```
$("#theDiv").addClass("newCssClass");

```

注意`addClass()`函数是如何直接链接到`$()`调用的。

jQuery 增强选择集上的许多实用函数返回选择集本身。这意味着您可以在选择集上链接方法调用，如下所示:

```
$("#theDiv").addClass("newCssClass")
            .css("border", "1px solid #cccccc")
            .css("background-color", "#f0f0f0")
    ;

```

正如所暗示的，这种技术被称为方法链接。在 JavaScript 世界中，设计用于方法链接的 API 也被称为“流畅”API。jQuery 的流畅风格 API 使得修改 DOM 变得非常容易。

除了`$()`功能，您还可以使用`jQuery()`功能。这两个函数做完全相同的事情，但是有时你可能使用其他 JavaScript 库，它们也定义了一个`$()`函数。在这种情况下，请使用`jQuery()`功能。

选择集上的许多实用函数将在本 jQuery 教程的单独文本中介绍。例如，有遍历函数、CSS 操作函数、DOM 操作函数、各种效果(比如元素的淡入淡出和滚动)、事件监听器函数等等。

## find()函数

由`$()`或`jquery()`函数返回的选择集包含一个名为`find()`的函数。`find()`函数可用于查找选择集中元素的后代。`find()`函数将选择器字符串作为参数，指示在选择集中查找什么元素。

`find()`函数只搜索选择集中元素的*后代*。也就是孩子和他们的孩子等等。选择集中的元素。

下面是一个 jQuery `find()`的例子:

```
$("ul").find("li");

```

这个例子将找到所有`ul`元素中的所有`li`元素。这类似于使用后代选择器，如下所示:

```
$("ul li");

```

`find()`函数返回一个新的选择集。它不会修改调用它的选择集。

选择集还有一个`children()`函数，它的工作方式与`find()`类似，除了`children()`既可以带参数也可以不带参数(选择器字符串)，它只搜索选择集中元素的直接子元素。

## filter()函数

选择集还包含一个名为`filter()`的函数。`filter()`函数类似于 find，只是它也作用于选择集中的元素，而不仅仅是它们的子元素和后代元素。

`filter()`函数采用一个选择器字符串或一个用于过滤选择集的函数。`filter()`函数返回一个新的选择集。它不会修改调用它的选择集。下面是一个 jQuery `filter()`的例子:

```
$("ul").filter(".taskList");

```

该示例首先选择所有的`ul`元素，然后过滤该集合以返回包含 CSS 类`taskList`的选择集中的所有元素(包括所选`ul`元素的后代)。

你也可以传递一个过滤函数给`filter()`。下面是一个`filter()`的例子，它将一个过滤函数作为参数:

```
$("a").filter(function() {
    return $(this).attr("href") !== "undefined" ;
});

```

该示例选择所有的`a`元素，然后使用过滤函数对它们进行过滤。如果给定的`a`元素包含一个`href`属性，filter 函数将返回`true`。

在过滤器参数函数中，变量`this`指的是调用`filter()`函数的选择集中的每个元素。您还可以通过在 filter parameter 函数中插入一个`index`参数来获得要检查的元素的索引。这是之前添加了参数`index`的例子。

```
$("a").filter(function(index) {
    return $(this).attr("href") !== "undefined" ;
});

```

## has()函数

选择集还包含一个名为`has()`的函数。`has()`函数以一个选择器字符串作为参数，就像`find()`和`filter`一样。`has()`将选择器字符串与选择集中元素的所有后代进行匹配。如果选择集中的元素包含与选择器字符串匹配的后代，那么具有匹配后代的元素将包含在由`has()`返回的新选择集中。

下面是一个 jQuery `has()`的例子:

```
$("div").has("p");

```

这个例子首先选择所有的`div`元素，然后选择那些包含一个或多个`p`元素的`div`元素。

## has() vs find() vs filter()

三个 jQuery 选择集函数`has()`、`find()`和`filter()`非常相似，但是它们选择的元素有一些重要的区别。

`has()`功能仅选择已经是选择集一部分的元素。它不选择任何后代，即使它使用后代来确定要选择的元素。换句话说，它选择那些*拥有与选择器匹配的*元素的元素(因此得名`has()`)。

`find()`函数只选择选择集中元素的后代元素。与给定选择器匹配的所有元素都将成为返回的选择集的一部分。换句话说，它在选择集中的元素内查找匹配的元素。不在所选元素本身中。

`filter()`函数选择选择集中的两个元素及其后代。换句话说，它根据选择器过滤选择集中的所有元素及其后代。

看看下面的 HTML:

```
<div>
    <p>Paragraph 1</p>
</div>
<div>
    <p>Paragraph 2</p>
</div>
<div>
    <p>Paragraph 2</p>
</div>

```

以下三个表达式将返回不同的选择集。

```
$("div").has   ("p");    
$("div").find  ("p");    
$("div").filter("p");    

```

`$("div").has("div, p");`将选择所有包含一个`p`元素的`div`元素作为后代。那就是三个顶级`div`元素。

`$("div").find ("div, p");`将选择三个顶级`div`元素的后代的所有`p`元素。那将是三个子`p`元素。

`$("div").filter("p");`将选择选择集中的所有`p`元素，或选择集中元素的后代。在本例中，这也是三个子`p`元素，因为第一个选择集不直接包含任何`p`元素(第一个选择集只包含三个顶级`div`元素)。

## 元素名称选择器

元素名称选择器使您能够按名称选择元素，即某种类型或种类的元素。例如，所有的`<a>`元素，或者`<p>`元素。下面是一个 jquery 元素名称选择器示例:

```
$('a');

```

这个例子选择了所有的`a`元素，但是它并没有对这些元素做任何事情。下面是一个改变所有`a`元素的 CSS 样式的例子:

```
$('a').css('background-color', '#00ff00');

```

本示例将所有`a`元素的背景色设置为绿色。

## 元素 Id 选择器

元素 id 选择器使您能够通过元素 id 来选择元素。元素 id 在其`id`属性中指定。`id`在页面中必须是唯一的，并且区分大小写。下面是一个 jquery 元素 id 选择器示例:

```
<script type="text/javascript">

$(document).ready(function() {
    $('#theId').css('background-color', '#00ff00');
});

</script>

<div id="theId">
    text
</div>

```

本例将选择具有`id`‘theId’的`div`元素，并将其背景色改为绿色。

注意在 jQuery 选择器中,`id`前面有一个`#`。这向 jQuery 发出信号，表明您正在通过元素的`id`来选择元素。

## CSS 类选择器

类选择器使您能够根据元素的 CSS 类来选择元素。下面是一个 jquery 类选择器示例:

```
$('.theClass').text();

```

本示例选择所有具有 CSS `class` `theClass`的元素。CSS 类是通过 HTML 元素的`class`属性设置的。CSS 类也可以通过 jQuery 设置。更多信息见 [jQuery & CSS](css.html) 上的文字。

注意 jQuery select 参数中类名前面的`.`是如何向 jQuery 发出信号的，即您希望通过 CSS 类进行选择。

## 属性选择器

属性选择器使您能够根据元素所具有的属性，甚至根据属性值来选择元素。我将在下面介绍几种不同的属性选择器。

### 具有属性选择器

“has attribute”选择器使您能够选择具有特定属性的所有元素，而不管该属性的值如何。

要指定属性选择器，需要在选择器字符串中将属性名称写在方括号中。下面是一个 jQuery 属性选择器示例(具有属性):

```
$('[height]');

```

本例将选择所有具有`height`属性的元素。

您可以将属性选择器与其他选择器结合使用，例如，元素名称选择器选择所有具有属性`height`的`div`元素。以下是元素名称和属性选择器示例:

```
$('div[height]');

```

### 属性值等于选择器

属性值选择器使您能够基于特定的属性值选择元素。以下是 jQuery 属性值等于选择器示例:

```
$('div[height=200]');

```

本例选择所有`height`属性值为`200`的`div`元素。

您也可以用引号将值括起来，如下所示:

```
$('div[height="200"]');

```

### 属性值不等于选择器

属性值选择器还使您能够基于不等于特定值的属性值来选择元素。这是通过在选择表达式中的`=`前面放一个`!`来实现的。这里有一个例子:

```
$('div[height!=200]');

```

本例选择所有没有属性值`200`的`div`元素。这也包括所有没有任何`height`属性的`div`元素。

### 属性值前缀选择器

属性值前缀选择器使您能够选择包含属性值以给定值开始的元素。换句话说，其中属性值包含某个*前缀*。下面是一个 jQuery 属性值前缀选择器示例:

```
$('[href|="http://"]');

```

本例选择所有属性为`href`的元素，其中值以`http://`开始。

### 属性值包含选择器

属性值包含选择器使您能够选择具有值包含特定子字符串的属性的元素。下面是一个 jQuery 属性值包含的例子:

```
$('[href*="/download/"]');

```

这个例子选择所有在它们的`href`属性值中包含子串`/download/`的元素。

### 属性值以选择器结尾

属性以选择器结尾使您能够选择具有值以特定子字符串结尾的属性的元素。下面是一个 jQuery 属性值以选择器结尾的示例:

```
$('[href$=".pdf"]');

```

本例选择所有属性为`href`的元素，其值以`.pdf`结尾。

## 元素可见性选择器

元素可见性选择器使您能够根据元素是否可见来选择元素。jQuery 包含以下元素可见性选择器:

*   `:hidden`
*   `:visible`

下面是一个 jQuery 可见性选择器示例:

```
$(':visible');

$(':hidden');

```

第一行选择页面中所有可见的元素。第二行选择页面中所有隐藏的元素。

## 元素顺序选择器

元素顺序选择器可以根据元素在 HTML 页面(在 DOM 中)中出现的顺序来选择元素。例如，您可以选择页面中的第三个`div`元素，或者所有的`odd` `div`元素等。

下面是一个 jQuery 元素顺序选择器示例:

```
$('div:first').text();

```

本示例选择页面中的第一个`div`元素。顺序写在 jQuery 选择器参数中的`:`之后。

您可以使用以下订单参数:

*   `:first`
*   `:last`
*   `:even`
*   `:odd`
*   `:eq(index)`
*   `:gt(index)`
*   `:lt(index)`

**:first** 选择给定种类的第一个元素。

**:last** 选择给定种类的最后一个元素。

**:even** 选择给定种类的偶数元素，即索引为 0、2、4 等的元素。

**:odd** 选择给定种类的奇数元素，即索引为 1、3、5 等的元素。

**:eq()** 选择具有给定索引的元素，从 0 开始。例如，`'div:eq(3)'`选择页面中的第 4 个`div`元素。

**:gt()** 选择索引大于给定索引的所有元素。例如，`'div:gt(1)'`选择索引大于 1 的所有`div`元素。

**:lt()** 选择索引小于给定索引的所有元素。例如，`'div:lt(2)'`选择所有索引小于 2 的`div`元素。

## 表单字段选择器

jQuery 包含一组表单字段选择器，使得从 DOM 中选择各种不同类型的表单字段变得更加容易。在这一节中，我将介绍最常见的 jQuery 表单字段选择器。

### :输入选择器

通过`:input`选择器，您可以轻松选择`input`元素。下面是一个 jQuery `:input`的例子:

```
$(":input");

```

本示例选择页面中的所有`input`字段。注意文本`input`前的`:`。这个冒号是必要的，以免与基于元素名称的选择混淆。在这个例子中，`input`和`:input`之间可能没有任何区别，但是对于几个表单字段选择器来说，还是有区别的。

### :文本选择器

`:text`选择`text`类型的所有输入字段。它不选择`textarea`元素。下面是一个 jQuery `:text`选择器示例:

```
$(":text");

```

### :无线电选择器

`:radio`选择所有类型`radio`的输入字段。即所有单选按钮元素。下面是一个 jQuery `:radio`选择器的例子:

```
$(":radio");

```

### :复选框选择器

`:checkbox`选择所有类型`checkbox`的输入字段。换句话说，所有的复选框元素。下面是一个 jQuery `:checkbox`选择器的例子:

```
$(":selector");

```

`:checked`选择所有被选中的`checkbox`或`radio`类型的输入字段。

### :密码选择器

`:password`选择器选择`password`类型的所有`input`元素。下面是一个 jQuery `:password`选择器示例:

```
$(":password");

```

### :提交选择器

`:submit`选择器选择`submit`类型的所有`input`元素。即所有表单提交按钮。下面是一个 jQuery `:submit`选择器示例:

```
$(":submit");

```

### :重置选择器

`:reset`选择器选择`reset`类型的所有`input`元素。即所有表单重置按钮。下面是一个 jQuery `:reset`选择器示例:

```
$(":reset");

```

### :文件选择器

`:file`选择器选择`file`类型的所有`input`元素。即所有文件上传字段。下面是一个 jQuery `:file`选择器示例:

```
$(":file");

```

## 按钮选择器

`:button`选择器选择所有类型`button`的`button`元素和`input`元素。它不选择`submit`类型的`input`元素。下面是一个 jQuery `:button`选择器示例:

```
$(":button");

```

## 启用和禁用元素选择器

`:enabled`选择器选择所有启用的元件。同样，`:disabled`选择器选择所有被禁用的元素。下面是一个 jQuery `:enabled`和`:disabled`选择器的例子:

```
$(":enabled");

$(":disabled");

```

## 空元素选择器

`:empty`元素选择器选择所有空的元素，这意味着它们没有子元素，并且其主体中没有文本(允许属性)。下面是一个 jQuery `:empty`选择器示例:

```
$(":empty");

```

## 包含文本选择器

`:contains`选择器用于选择包含特定文本的元素。下面是一个 jQuery `:contains`的例子:

```
$(":contains(Hello World)");

```

本示例选择包含文本“Hello World”的所有元素。

## 目标元素选择器

`:target`选择器选择当前 URL 的 HTML 片段目标元素。例如，如果浏览器中的 URL 是:

```
http://myapp.com/somepage.html#someElement

```

然后`:target`选择器会选择 id 为(或`name` ) `someElement`的元素，因为 URL 指向的 HTML 片段部分是`#someElement`。

下面是一个 jQuery `:target`选择器示例:

```
$(":target");

```

## 所有元素选择器

`*`(所有元素)选择器选择 HTML 文档中的所有元素。因为您不经常需要这个，所以`*`选择器通常与其他选择器组合在一起。下面是一个元素名称选择器和父/子选择器与`*`选择器结合的例子:

```
$("div>*");

```

此示例选择所有`div`元素的所有直接子元素。`div`部分表示所有的`div`元素。`>`部分表示左侧所选内容的直接子元素(全部是`div`元素)。`*`表示所有元素。总之，这意味着所有`div`元素的所有直接子元素。

## 父母和子女选择器

父元素和子元素选择器使您能够根据元素的父元素或祖先元素，或者它们在父元素中的顺序来选择元素。您可以使用以下父选择器和子选择器，根据元素的父子关系来选择元素:

*   `:first-child`
*   `:last-child`
*   `parent>child`

`:first-child`选择器允许您选择父元素的第一个子元素。下面是 jQuery `:first-child`的例子:

```
$('div:first-child');

```

此示例选择所有`div`元素的第一个子元素。

除了选择父节点的最后一个子节点外，`:last-child`选择器的工作方式与`:first-child`相同。

`parent>child`选择器允许您选择特定父元素的子元素。下面是一个 jQuery `parent>child`的例子:

```
$('div>p');

```

该示例将选择`div`元素中的所有`p`元素。不选择`div`元素之外的`p`元素。

## 组合选择器

您可以组合许多 jQuery 选择器来创建更强大的选择器表达式。要完全掌握，你必须自己尝试组合，但这里我会给你几个例子，这样你就能感受到它是如何工作的。

下面的例子选择了属性`height`设置为`300`的`div`元素中`div`元素内的所有`p`元素:

```
$('div[height=300]>p');

```

下一个例子增强了第一个例子，增加了一个标准，即只选择 CSS 类为`go`的`p`元素:

```
$('div[height=300]>p.go');

```

第三个示例修改了前面的示例，只选择了带有`id` `p_id`的`p`元素:

```
$('div[height=300]>p#p_id');

```

正如您所看到的，组合选择器可以用来创建强大的、非常具体的选择表达式。
# Java & XML 工具概述

> 原文：<https://jenkov.com/tutorials/java-xml/overview.html>

正如在简介中提到的，Sun 现在提供了以下工具用于 Java 中的 XML 处理:

1.  [StAX 读写器](#stax)
2.  [SAX 解析器](#sax)
3.  [DOM 解析器](#dom)
4.  [XPath 计算器](#xpath)
5.  [XSL 处理器](#xsl)
6.  [JAXB](#jaxb)

在接下来的几节中，我将谈一谈这些工具是什么，它们的用途是什么。

## StAX

Java StAX API 是一个用于读写 XML 流的流 API。因此，它类似于旧的 SAX API，只是 SAX API 只能用于读取 XML，而不能写入 XML。

SAX 和 StAX API 之间的主要区别在于，使用 SAX 时，您需要为 SAX 解析器提供一个处理程序。然后，这个处理程序调用相应于实体(元素、注释、文本等)的方法。)在 XML 文档中找到。SAX 解析器控制着 XML 文档的迭代。使用 StAX 解析器，您可以控制 XML 文档的迭代。当您觉得可以处理下一个元素、文本节点等时，您可以调用`next()`方法(或相应的方法)。从`next()`方法中，您获得了一个对象，它可以告诉您在 XML 文档中遇到了什么实体。

像这样控制 XML 文档的迭代可能是一种优势。迭代可以保持在一个方法的范围内(也许调用子方法)。这意味着在处理一段文本时，您可以使用/访问与处理一个元素时相同的局部变量。在 SAX 中，这两个实体由 handler 对象中的两种不同方法处理。因此，如果您需要从这些不同的方法访问共享变量，这些变量必须是 handler 对象中的成员变量。差别不是很大，但是局部变量在很多情况下仍然是更好的。

Java 6 附带了 StAX API 接口，但是还没有实现。在 stax.codehaus.org 的[可以找到一个标准的实现。](http://stax.codehaus.org)

## SAX 解析器

SAX 解析器是第一个逐个实体(元素、文本、注释等)处理 XML 的 API。)因为它们是在 XML 文档的遍历过程中遇到的。当使用 SAX 解析器时，需要向 SAX 解析器传递一个处理程序对象。在遍历 XML 文档的过程中，这个 handler 对象为您想要处理的每个“事件”提供了一个方法。事件的例子有`startDocument`、`startElement`、`characters`等。

SAX 解析器最适合处理 XML 文档，其中每个元素都可以单独处理。如果您需要访问文档的前面或后面的部分来处理给定的元素，那么处理起来就不那么容易了。如果需要访问早期的部分，可以在它出现在 handler 对象的成员变量中时存储它。但是如果你需要访问后面的元素，这就有点困难了。除非在遇到后面需要的元素时处理前面的元素。然而，如果在处理 XML 文档时需要跳过它，使用 DOM 解析器可能更容易。

在大多数情况下，如果您发现 SAX 解析器很有用，那么使用 StAX 阅读器可能会更好。

SAX 接口和实现来自 Java(至少来自 Java 5)。

## DOM 解析器

DOM(文档对象模型)解析器将 XML 文档解析成对象图。整个文档被转换成一个大对象。一旦创建，你可以随意遍历对象图。你可以随心所欲地在图中走上走下。这个对象图占用了大量的内存，所以只应该在没有其他合适选项的情况下使用。

DOM 接口和实现来自 Java(至少来自 Java 5)。

## XPath 计算器

Java 自带了一个内置的 XPath 计算器。您设置了一个 XPath 表达式，并让求值器对 DOM 对象上的表达式求值。然后，求值器返回与 XPath 表达式匹配的元素。XPaths 是找到需要处理的节点的一种便捷方式，而不是自己导航到它们。

## XSL 处理器

Java 自带一个内置的 XSL 处理器。XSL 处理器根据 XSL 样式表将输入 XML 文档转换为输出文档(不一定是 XML)。样式表的一个应用实例是将包含数据的 XML 文档转换为 HTML 文档，其中的数据以更易于阅读的格式呈现，例如以表格、列表等形式呈现。

## JAXB

JAXB 是一个类似于 DOM API 的 API。JAXB 允许从 XSL 模式生成类，匹配该模式中定义的 XML 文档。然后，JAXB 让您将符合该模式的 XML 文档读入由生成的对象构建的对象结构中。您还可以将对象结构序列化回磁盘或网络。

生成的 JAXB 类看起来更像常规的域对象。它们有名称与元素名称匹配的 getters 和 setters。DOM API 只有像`addElement()`这样的方法。其中具体的元素名称是一个参数，您需要知道在 DOM 结构中的任何给定元素中，哪些元素可以作为子元素添加。因此，JAXB 生成的类通过在类名和方法名中反映允许的结构，为您提供了更多的帮助。
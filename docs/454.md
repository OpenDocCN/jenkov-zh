# Java IO:并发 IO

> 原文：<https://jenkov.com/tutorials/java-io/concurrent-io.html>

有时您可能需要同时处理输入和输出。换句话说，您可能需要不止一个线程来处理输入和产生输出。例如，您可能有一个需要处理磁盘上大量文件的应用程序。这可以与性能提升同时进行。或者您可能有一个服务器，如 web 服务器或聊天服务器，它接收许多单独的连接和请求。这些也可以并行处理，从而获得一定的性能提升。

如果您需要并发 IO，这里有一些您应该知道的一般问题:

您不应该同时从一个`InputStream`或`Reader`中读取多个线程。你也不应该让多个线程同时写一个`OutputStream`或`Writer`。如果你，你没有办法保证每个线程将读取多少输入，或者线程以什么顺序将数据写入输出流。

如果多个线程按顺序使用流、读取器或写入器，那么它们可能会同时使用。例如，您可以让一个线程根据输入判断请求的类型，然后将它交给适当的线程进行进一步处理。这是可能的，因为对流/读取器/写入器的访问是顺序的。注意，在线程之间传递流的代码应该正确地[同步](/java-concurrency/synchronized.html)。

注意:在 [Java NIO](/java-nio/index.html) 中，你可以让一个线程读/写多个“通道”。例如，如果您打开了许多网络连接，但很少每个连接上只有数据，例如在聊天服务器中，您可以让一个线程监控所有通道(连接)。Java NIO 是一个不同的故事，将在后面的教程中介绍。
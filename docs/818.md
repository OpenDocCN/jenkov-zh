# 多晶型引入

> 原文:[https://jenkov.com/tutorials/polymorph/index.html](https://jenkov.com/tutorials/polymorph/index.html)

Polymorph 是我的一个项目，旨在创建一个智能媒体平台和生态系统，这是分散的，高性能，低延迟，易于使用，并允许用户组合的媒体体验。目前计划中的功能可以将多态带向许多不同的方向——所以多态将“登陆”到哪里还需要将来才能知道。尽管总体方向是明确的。它是关于构建智能媒体的工具。

## 多态网站

多态的官网是:[plmph.com](https://plmph.com)T2】

该网站还没有包含这么多的信息，所以这一系列教程是目前了解多态项目的最佳途径。

## 什么是智能媒体？

读完介绍性段落后，你可能会有第一个问题:我说的“智能媒体”是什么意思？

当我们从使用术语“移动电话”转向“智能电话”时，让这种新型电话“智能”的是它们运行应用程序的能力。因此，手机从一个具有有限的预装功能集的预定用途设备发展成为一个平台，最终用户可以在该平台上决定安装和运行什么应用程序，从而重新调整手机功能以满足最终用户的需求。此外，手机和应用程序会主动尝试预测最终用户的需求(如果你允许的话——他们可能需要收集数据来这样做)，从而使智能手机更加智能。

按照这个标准，网络和网络技术并不“智能”。浏览器只有 3 个核心功能:

1.  加载网页
2.  打开多个选项卡
3.  将网页加入书签

除了这三个特性，web 浏览器并没有真正让最终用户自己做很多事情(也许除了勇敢的浏览器)。默认情况下，只有内置的客户端-服务器功能。没有对等功能。用户沦为 web 开发人员有幸提供的任何内容的“哑巴消费者”。不可能有创造力或突发行为。有点像什么平板电脑太台式电脑了。一款设备最适合消费，另一款也非常适合生产。

很奇怪，对吧？用户似乎能够使用非常先进的网络应用程序、桌面应用程序和移动应用程序，但浏览器必须非常简单，否则用户无法理解？

这就是我将尝试用变形项目来改变的——释放世界的创造力。

### 聪明的

通过*智能*我的意思是让用户能够解决各种各样的问题(多功能性)， 同时对于普通人来说足够容易使用(易用性)。当然，这将始终是技术上的可能性和实施所需时间之间的权衡 。

多态使开发者变得聪明是不够的。多态必须让最终用户也变得聪明。

此外，通过容易适应他们的需求，多态应该使开发者和最终用户变得更聪明。这意味着许多明智的默认行为，并在可能的范围内，智能地自动适应运行时的实际使用。

对于*智能媒体*中的*智能*的含义，这导致了以下定义或目标:

*   开发者控制的多功能性。
*   最终用户控制的多功能性。
*   智能软件适应性。

### 媒体

我所说的*媒体*是指交付智能媒体体验所需的工具。这包括 终端用户应用、基础设施、协议、数据格式以及内容类型和格式。

首先，Polymorph 将专注于常用的媒体格式，如文本文档、图形、图表、演示文稿、动画、视频和音频。后来，Polymorph 也可能增加更多的应用程序风格媒体支持——类似于 web 应用程序的工作方式——但是是根据 Polymorph 的理念。

对于*智能媒体*中的*媒体*的含义，这导致了以下定义或目标:

*   最终用户应用程序
*   基础设施工具包。
*   基础设施即服务(可能)。
*   协议
*   数据格式
*   内容类型和格式
    *   文本文档
    *   制图法
    *   图表
    *   报告
    *   动画片
    *   录像
    *   声音的
    *   应用程序
    *   以上各项的组合

## 多态主要部分

多晶型由两个主要部分组成:

*   多形织物
*   多态应用程序

该结构很可能是开源的。该应用程序可能会成为用户较少的组织的免费应用程序，而拥有用户较多的组织的商业许可证。“更少”和“更多”用户之间的确切界限仍有待确定——但目前我倾向于前 100 名用户免费。这意味着在为 101 号及以上的用户付费之前，一个组织必须足够大。

这两个主要组件将在下面的章节中详细解释。

## 多形织物

多态结构是一个分布式系统基础设施工具包。多态结构将能够用于传统的客户端-服务器拓扑结构，但也可以用于其他拓扑结构，如分布式哈希表和对等网络。

Polymorph fabric 将拥有自己的 polyring 对等网络拓扑，该拓扑专为高效的媒体路由、多播和广播以及基于地理位置的拓扑而设计，并具有其他有趣和有用的功能。你可以在这里阅读更多关于它是如何工作的:[多态 P2P 网络算法](/tutorials/p2p/polymorph.html)。

多态结构将通过非阻塞 IO 支持异步通信。为了恰当而优雅地支持这一点，必须为 Polymorph Fabric 设计一个定制的并发模型——基于[单线程并发技术](http://tutorials.jenkov.com/java-concurrency/single-threaded-concurrency.html)。

## 多态应用程序

Polymorph 应用程序是一个最终用户应用程序，将作为一种“智能媒体播放器”运行。Polymorph 应用程序将能够连接到 Polymorph 结构来上传和下载媒体，但也能够通过网络(标准 HTTP)下载媒体。

多态应用程序将获得自己的脚本语言。这种脚本语言将使用户能够通过在脚本中组合智能媒体格式来创作媒体体验。例如，将幻灯片演示或采访(音频或视频)与音频配乐等结合起来。或者-交互式探索电影，观众可以选择在某些点的动作，使电影采取不同的方向。

可组合性也使得对其他媒体剪辑进行评论或从较小的部分或原始媒体剪辑等组成较大的演示变得更加容易。我们究竟能通过可组合性实现什么将是一个有趣的探索。

多态应用将来也有可能获得一些协作功能，但首要目标是媒体功能。

## 多态技术概述

为了让 Polymorph 的两个主要部分——应用程序和结构——协同工作，Polymorph 项目需要其他几个较小的部分。我想象这些部分(技术)看起来会像下图所示:

![Overview of the core parts, protocols and specifications of the Polymorph Project](../Images/91d8914f9d62b68b2a53e251cb4aeef0.png)

以下是这些部件的结构化列表:

*   **变形布料**
    *   单线程并发工具
    *   后台线程工具
    *   异步网络 IO 工具
    *   非阻塞网络 IO 工具
    *   简单的客户端-服务器功能
    *   对等网络功能
    *   多态数据格式
    *   多态协议消息格式
    *   多态 RPC 协议
    *   多态订阅-通知协议
    *   多态多环路由协议
    *   多态隐私协议
    *   多晶型流存储
    *   多晶型物流加工
    *   多态虚拟机
    *   多态脚本规范
*   **变形 App**
    *   多态 UI 组件规范
    *   多态媒体时间轴规范

注意:在上图中，虚拟机和脚本被描述为属于 Polymorph 应用程序。然而，由于虚拟机也可能在服务中有用，并且由于应用程序无论如何都需要 fabric toolkit 中的许多工具(例如，连接到 fabric)，虚拟机和脚本语言可能会位于多态 fabric 中。

我将在不久的将来更详细地解释这些部分。

## 其他技术中的功能相似性

多态旨在作为一个连贯的生态系统发挥作用。即便如此，Polymorph 的不同部分与其他相当知名的产品和技术有一些功能上的相似之处。多晶型不是这些产品的直接替代品。我列出这些相似之处只是为了让您了解基于已经相当知名的产品和技术的功能，Polymorph 最终会有什么样的功能。

例如，多形体的一部分将具有与 Kafka 中的功能相似的功能，但是多形体不是 Kafka 的替代物。相似之处只是为了更容易理解多态的功能最终会是什么样子。

| 多晶型部分 | 其他产品/技术 |
| 多态数据 | MessagePack，CBOR，Protobuf，ION，RION |
| 多晶型流存储 | 卡夫卡 |
| 多晶型物流加工 | Java 流、Kafka 流、Apache Flink 等。 |
| 多态多环 P2P 拓扑 | 和弦，卡德姆利亚，糕点，挂毯 |
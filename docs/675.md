# Java 三元运算符

> 原文：<https://jenkov.com/tutorials/java/ternary-operator.html>

*Java* *三元运算符*的功能类似于简化的 [Java if](if.html) 语句。 三元运算符由一个条件组成，该条件评估为`true`或`false`， 加上一个如果条件为`true`则返回的值，以及另一个如果 条件为`false`则返回的值。下面是一个简单的 Java 三元运算符示例:

```

String case = ... // get this string from somewhere, e.g. a parameter or program arg

String name = case.equals("uppercase") ? "JOHN" : "john";

```

我们将在本 Java 三元运算符教程的剩余部分剖析这个三元运算符示例。

## Java 三元运算符视频教程

如果你喜欢视频，我这里有这个教程的视频版本:

<iframe width="560" height="315" src="https://www.youtube.com/embed/3RyQiWyFkt4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">&#13; &#13; &#13; &#13; &#13; &#13; <h2>三元算子条件</h2>&#13; &#13; <p>上面语句的三元运算符部分是这个部分:</p>&#13; &#13; <pre class="codeBox">&#13; case.equals("uppercase") ? "JOHN" : "john"&#13; </pre>&#13; &#13; <p>上述三元运算符表达式的条件部分是这样的:</p>&#13; &#13; <pre class="codeBox">&#13; case.equals("uppercase")&#13; </pre>&#13; &#13; <p>该条件是一个计算结果为<code>true</code>或<code>false</code>的 Java 表达式。&#13;如果<code>case</code>变量等于&#13;<a href="strings.html">Java 字符串</a>值<code>uppercase</code>，则上述条件将评估为<code>true</code>，否则评估为<code>false</code> &#13;。&#13;</p>&#13; &#13; <p>条件可以是任何计算结果为<code>boolean</code>值的 Java 表达式，就像&#13;可以在<code>if</code>语句或<code>while</code>循环中使用的表达式一样。&#13;</p>&#13; &#13; &#13; &#13; &#13; &#13; <h2>三元运算符值</h2>&#13; &#13; <p>三元运算符的条件部分后跟一个问号(<code>?</code>)。问号&#13;后面是三元运算符可以返回的两个值，用冒号(<code>:</code>)隔开。前面显示的三元运算符的值&#13;部分是:&#13;</p>&#13; &#13; <pre class="codeBox">&#13; "JOHN" : "john";&#13; </pre>&#13; &#13; <p>值部分由两个值组成。如果条件部分(见上文)评估为<code>true</code>，则返回第一个值。如果条件部分评估为<code>false</code>，则返回第二个值。&#13;</p>&#13; &#13; <p>在上面的例子中，如果<code>case.equals("uppercase")</code>评估为<code>true</code>，那么&#13;三元运算符表达式作为一个整体返回字符串值<code>JOHN</code>。&#13;如果<code>case.equals("uppercase")</code>评估为<code>false</code>，那么三元运算符表达式为&#13;一个整数返回字符串值<code>john</code>。这意味着，字符串变量<code>name</code> &#13;将最终具有值<code>JOHN</code>或<code>john</code>，这取决于表达式&#13; <code>case.equals("uppercase")</code>的计算结果是<code>true</code>还是<code>false</code>。&#13;</p>&#13; &#13; &#13; <p>返回值可以是任何 Java 表达式的结果，该表达式返回的值可以在语句开始时赋给变量。因为本文开头的三元运算符示例中的 Java 变量是 String 类型，所以 values 部分返回的值必须是 String 类型。</p>&#13; &#13; &#13; &#13; &#13; &#13; <h2>作为空检查的三元运算符</h2>&#13; &#13; <p>在调用对象上的方法之前，可以使用 Java 三元运算符作为空检查的简写。这里有一个例子:</p>&#13; &#13; <pre class="codeBox">&#13; String value = object != null ? object.getValue() : null;&#13; </pre>&#13; &#13; <p>这等效于以下代码，但比它短:</p>&#13; &#13; <pre class="codeBox">&#13; String value = null;&#13; if(object != null) {&#13; value = object.getValue();&#13; }&#13; </pre>&#13; &#13; <p>正如您所看到的，如果<code>object</code> &#13;引用是<code>null</code>，这两个代码示例都避免调用<code>object.getValue()</code>，但是第一个代码示例更短更优雅。&#13;</p>&#13; &#13; &#13; &#13; &#13; &#13; <h2>作为最大函数的三元运算符</h2>&#13; &#13; <p>您可以使用 Java 三元运算符实现与<a href="math-operators-and-math-class.html#math-max"> Java Math max()函数</a>相同的功能。&#13;下面是一个使用 Java 三元运算符实现<code>Math.max()</code>功能的例子:&#13;</p>&#13; &#13; <pre class="codeBox">&#13; int val1 = 10;&#13; int val2 = 20;&#13; &#13; int max = val1 &gt;= val2 ? val1 : val2;&#13; </pre>&#13; &#13; <p>注意三元运算符条件如何检查<code>val1</code>值是否大于或等于&#13;值<code>val2</code>。如果是，三元运算符返回<code>val1</code>值。否则它返回<code>val2</code>值&#13;。&#13;</p>&#13; &#13; &#13; &#13; &#13; <h2>作为最小函数的三元运算符</h2>&#13; &#13; <p>Java 三元运算符也可以用来实现与<a href="math-operators-and-math-class.html#math-min"> Java Math min()函数</a>相同的效果。下面是一个&#13;使用 Java 三元运算符&#13;实现<code>Math.min()</code>功能的例子</p>&#13; &#13; <pre class="codeBox">&#13; int val1 = 10;&#13; int val2 = 20;&#13; &#13; int max = val1 &lt;= val2 ? val1 : val2;&#13; </pre>&#13; &#13; <p>注意三元运算符条件如何检查<code>val1</code>值是否小于或等于&#13;值<code>val2</code>。如果是，三元运算符返回<code>val1</code>值。否则它返回<code>val2</code>值&#13;。&#13;</p>&#13; &#13; &#13; &#13; &#13; &#13; <h2>作为 abs 函数的三元算子</h2>&#13; &#13; <p>Java 三元运算符也可以用来实现与<a href="math-operators-and-math-class.html#math-abs"> Java Math abs()函数</a>相同的效果。下面是一个&#13;使用 Java 三元运算符&#13;实现<code>Math.abs()</code>功能的例子</p>&#13; &#13; <pre class="codeBox">&#13; int val1 = 10;&#13; &#13; int max = val1 &gt;= 0? val1 : -val1;&#13; </pre>&#13; &#13; <p>注意三元运算符条件如何检查<code>val1</code>值是否大于或等于&#13; 0。如果是，三元运算符返回<code>val1</code>值。否则返回&#13; <code>-val1</code>，对应否定一个负数，使其为正。&#13;</p>&#13; &#13; &#13; &#13; &#13; &#13; <h2>链式三元算子</h2>&#13; <p>可以将多个 Java 三元运算符链接在一起。为此，可以让三元运算符返回的值之一成为另一个三元运算符。以下是 Java 中链式三元运算符的一个示例:</p>&#13; &#13; <pre class="codeBox">&#13; String input = ... // get input parameter String from somewhere.&#13; &#13; int value = input == null ? 0 : input.equals("") ? 0 : Integer.parseInt(input);&#13; </pre>&#13; &#13; <p>注意第一个三元运算符条件如何检查输入字符串是否为<code>null</code>。如果有，&#13;第一个三元运算符立即返回 0。如果输入字符串不是<code>null</code>，第一个三元&#13;运算符返回第二个三元运算符的值。第二个三元运算符检查&#13;输入字符串是否等于空字符串。如果是，第二个三元运算符立即返回 0。&#13;如果输入字符串不等于空字符串，第二个三元运算符返回<code>Integer.parseInt(input)</code>的值&#13;。&#13;</p>&#13; &#13; <p>只要每个三元操作符返回单个值，并且每个三元操作符用于代替单个值(Java 三元操作符是一个表达式，因此计算为单个值)，就可以任意地链接和嵌套 Java 三元操作符。</p>&#13; &#13; <p>当然，您可以简化上面的三元运算符示例。您可以将返回 0 的两个条件组合成一个条件，而不是链接三元运算符，如下所示:</p>&#13; &#13; <pre class="codeBox">&#13; int value = input == null || input.equals("") ? 0 : Integer.parseInt(input);&#13; </pre>&#13; &#13; <p>然而，这仅仅是可能的，因为值<code>null</code>和空字符串都返回相同的值(0)。&#13;总之，重点是向你展示如何<em>链接</em><em>Java</em><em>三元运算符</em>。这就是为什么&#13;的例子是这样写的。&#13;</p>&#13; &#13; </body> </html></iframe>
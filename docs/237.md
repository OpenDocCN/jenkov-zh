# 分散系统介绍

> 原文:[https://jen kov . com/tutorials/decentralized-systems/index . html](https://jenkov.com/tutorials/decentralized-systems/index.html)

*分散系统*是一类没有任何中央协调或管理 单元的系统。换句话说，没有单一的中央服务器来协调或管理系统。 与集中式系统相比，分散式系统既有优点也有缺点，因此，您为您的系统选择这两种拓扑原型中的哪一种 取决于您 需要或想要哪种优点。

分散系统可以分为两类:

1.  分散式服务器系统
2.  对等(P2P)系统

## 分散式服务器系统

分散式服务器系统是客户端-服务器系统的服务器端是分散的系统。例如，分布式数据库，如 Cassandra 或 MongoDB。

分散式服务器系统通常只分散整个系统的服务器部分。总体架构仍然是客户端-服务器架构——系统中的一些节点是客户端，其他节点是服务器。

![Client-server system with a decentralized server system.](../Images/f63c4d5c2f14036755d6ed3d805883b5.png)

分散式服务器系统的例子有:

*   阿帕奇卡桑德拉
*   MongoDB
*   亚马逊 DynamoDB

## 对等系统

对等系统(P2P)，有时也被称为[对等网络](https://jenkov.com/tutorials/p2p/index.html)，是网络中所有节点 既是客户端又是服务器的系统。每个节点(对等点)既作为服务器向其他 节点(对等点)提供服务，也作为客户端从其他节点消费该服务。因此，对等系统中的所有节点 都是彼此*的对等节点*——这意味着功能和角色都是平等的。 下图显示了一个完全分散的系统，其中所有节点具有相同级别的功能 和权限。这就是为什么他们经常被称为*同辈*——彼此平等。

![A fully decentralized system (e.g. peer-to-peer network).](../Images/f944d5062e8afe928dacd58832f2c559.png)

P2P 网络和 P2P 网络算法和拓扑的例子有:

*   [和弦(算法)](/tutorials/p2p/chord.html)
*   卡德姆利亚算法
*   [多态聚合环(算法)](/tutorials/p2p/polymorph.html)
*   蒲公英
*   努特拉（软件名称）

## 区块链系统

[区块链系统](/tutorials/blockchain/index.html)如比特币、以太坊、LBRY 等。也使用 P2P 网络进行交流和协作。 他们这样做是因为区块链系统，像数据库，保持分布式状态，所以区块链系统中的节点 需要就该状态达成共识。

注意:一些区块链系统的节点并不都执行完全相同的任务/角色。例如，一些节点是“验证器节点”,而其他节点是“钱包节点”等。这种区块链系统可以被归类为分散式服务器系统，而不是纯粹的 P2P 系统。然而，重要的不是你给一个给定的区块链系统什么分类。重要的是你明白它是如何工作的。

## 分散系统的好处

与集中式系统相比，分散式系统有一些好处——这取决于这些分散式系统是如何设计的。这些好处包括:

*   更强的弹性
*   水平可扩展性
*   降低硬件成本

我将在接下来的小节中更详细地解释这些好处。

### 更强的弹性

设计良好的分散式系统比集中式系统具有更强的弹性，因为分散式系统不存在会导致整个系统瘫痪的单点故障。如果分散系统中的一个节点崩溃，系统中的其他节点可以接管。

### 水平可扩展性

一个设计良好的分散式系统通常可以相当好地水平扩展——这意味着通过向网络添加更多节点(计算机)来扩展，而不是让每个节点使用更强大的硬件(垂直扩展)。

### 降低硬件成本

P2P 网络有时可以直接并且专门在终端用户设备(计算机、电话、控制台等)上运行。).在这些情况下，最终用户提供运行系统所需的硬件。因此，创建 P2P 网络的软件的创建者可以节省大量硬件成本。他们很可能无法实现零硬件成本——但可能比他们必须为运行系统所用的所有硬件付费要少得多。

## 分散系统挑战

有些类型的功能在分散式系统中比在集中式系统中更难实现。这些功能类型包括:

*   分散共识
*   广播、多播、路由和查找

### 分散共识

分散式系统中最大的挑战之一是对共享状态达成共识——如果对该状态的改变可以由系统中的多个节点发起。“状态”通常是指存储在数据库中的一些数据，也就是说，是一个分散的数据库。

如果一个分散系统中的两个或多个节点都试图改变同一个逻辑对象的状态，那么该系统需要能够以某种方式确定状态改变应该以什么顺序应用。

想象一下，如果系统中的两个节点都想在共享状态下更改同一个“客户”的“名称”。如果第一个节点想把名字改成“Satoshi”，而第二个节点想把名字改成“Vitalik”——客户最后用哪个名字？这种情况如下所示:

![Multiple nodes initiating state change simultaneously in a decentralized system.](../Images/df07d24e75e8845b24eb34105ff719f2.png)

分散共识，有时也称为分布式共识，是一个广泛的主题，有几种不同的方法来实现它-所以我不会在这里更详细地讨论它。将来我可能会在单独的教程中写更多关于它的内容。

### 广播、多播、路由和查找

根据分散式系统的拓扑结构，向网络中的所有节点或节点子集有效和高效地广播或多播消息是具有挑战性的。我所说的有效是指确保所有预期的节点都确实收到了消息。我所说的有效是指节点不会不止一次地接收消息。一些分散广播模型可能能够保证其中一个，但不能保证另一个。

围绕执行系统中节点或数据的有效消息路由和查找也存在类似的问题。如何有效地发现系统中的其他节点？如果一个特定对象只存储在系统中的一个节点上，如何高效地查找该对象的位置？

分散式系统使用的拓扑对这些问题有很大影响。您可能需要设计系统的拓扑来满足您的特定需求，而不是对所有用例使用相同的通用拓扑。

广播、多播、路由和查找问题是我设计的 P2P 拓扑[多态聚合环拓扑](/tutorials/p2p/polymorph.html)要解决的问题。